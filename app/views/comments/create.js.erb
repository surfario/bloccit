<% if @comment.valid? %>
  $('.js-comments').prepend("<%= escape_javascript(render(@comment)) %>");
  $('.new-comment').html("<%= escape_javascript(render partial: 'posts/comment_form', locals: { post: @post, comment: @new_comment, topic: @topic }) %>)");
<% else %>
  $('.new-comment').html("<%= escape_javascript(render partial: 'posts/comment_form', locals: { post: @post, comment: @comment, topic: @topic }) %>");
<% end %>    
  